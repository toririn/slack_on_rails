<table class = "table table-bordered table-hover table-condensed">
  <thead>
    <tr class="bg-primary">
      <th>
        No
      </th>
      <th>
        books
      </th>
      <th>
        削除ボタン
      </th>
    </tr>
  </thead>
  <tbody>
    <% book_list.each.with_index(1) do |book, idx| %>
      <tr class="<%= cycle('bg-success', 'bg-warning') %>">
        <td>
          <%= idx %><br />
        </td>
        <td >
          <%= work_by (@slack_markdown_processor.call(book[:text])[:output].to_s.html_safe) %>
          <br />
          <span class="small text-muted"><%= time_by(book[:ts]) %></span>
        </td>
        <td >
          <%= form_tag("/todo_management/#{@channel_name}/delete_book", remote: true, method: :post) do %>
            <input type="hidden" name="ts" value="<%= book[:ts] %>">
            <%= submit_tag('削除', class: "small btn btn-warning", name: "delete") %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
